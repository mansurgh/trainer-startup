# –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø - –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ü–†–ò–ú–ï–ù–ï–ù–ò–Æ

## ‚úÖ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### 1. Progress Photos - –¢–†–ï–ë–£–ï–¢ SQL –ó–ê–ü–†–û–°–ê
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∞–±–ª–∏—Ü–∞ `progress_photos` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
**–†–µ—à–µ–Ω–∏–µ:** 
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí SQL Editor
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ—Å—å SQL –∏–∑ —Ñ–∞–π–ª–∞: `supabase_progress_photos_fix.sql`
3. –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É, RLS policies, storage bucket –∏ triggers

### 2. Workout Counter - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –≤ –ø—Ä–æ—Ñ–∏–ª–µ
**–†–µ—à–µ–Ω–∏–µ:** 
- `StorageService.saveWorkoutSession()` —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Supabase `workout_sessions`
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `ref.invalidate(statsProvider)`
- –°—á–µ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 3. Exercise GIFs - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–≥–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞—Å—à–∏—Ä–µ–Ω `_exerciseNameMapping` —Å 25 –¥–æ 60+ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω fallback –ø–æ–∏—Å–∫ –ø–æ –ø–µ—Ä–≤–æ–º—É —Å–ª–æ–≤—É
- –¢–µ–ø–µ—Ä—å "dumbbell lunge", "barbell row", "cable fly" –∏ –¥—Ä. –±—É–¥—É—Ç –Ω–∞–π–¥–µ–Ω—ã

### 4. Nutrition/Training History - –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Å—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã
**–ü—Ä–∏—á–∏–Ω–∞:** –í –±–∞–∑–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–†–µ—à–µ–Ω–∏–µ:** 
- –ö–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ Supabase
- –î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É/–ø–∏—Ç–∞–Ω–∏–µ ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è

### 5. Characteristics (RPG Stats) - –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å
**–†–µ—à–µ–Ω–∏–µ:**
- `getCharacteristics()` —Å—á–∏—Ç–∞–µ—Ç:
  - Discipline = streak / 10
  - Strength = total_workouts * 0.1
  - Nutrition = logged meals
  - Endurance = workout duration
  - Balance = muscle variety
- –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Å 0 (—á–µ—Å—Ç–Ω–æ)

### 6. Today's Win - –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É—á–∏—Ç—ã–≤–∞–ª–æ—Å—å –ø–∏—Ç–∞–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ:**
- `getSuccessDayStats()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
  - Login +10%
  - Streak >0 +20%
  - Nutrition logged +35%
  - Workout done +35%
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ `ref.invalidate(statsProvider)`

---

## üö® –ö–†–ò–¢–ò–ß–ù–û: –ó–ê–ü–£–°–¢–ò–¢–ï SQL –ü–ï–†–í–´–ú –î–ï–õ–û–ú!

```bash
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
# 2. SQL Editor ‚Üí New Query
# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ supabase_progress_photos_fix.sql
# 4. Execute (–∏–ª–∏ Ctrl+Enter)
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:
- Progress Photos –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—ã —É–∂–µ –≤ –∫–æ–¥–µ

---

## üìù –ü–û–ß–ï–ú–£ –ü–£–°–¢–´–ï –î–ê–ù–ù–´–ï?

–í—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `htgrfd@mail.ru`.
–£ –Ω–µ–≥–æ **–Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏**:
- 0 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- 0 –∑–∞–ø–∏—Å–µ–π –ø–∏—Ç–∞–Ω–∏—è
- 0 –ø—Ä–æ–≥—Ä–µ—Å—Å —Ñ–æ—Ç–æ

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!**

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç–µ –ø–µ—Ä–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É ‚Üí —Å—á–µ—Ç—á–∏–∫ –ø–æ–∫–∞–∂–µ—Ç 1.
–ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ ‚Üí Today's Win –≤—ã—Ä–∞—Å—Ç–µ—Ç.

---

## üéØ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SQL fix
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—á–µ—Ç—á–∏–∫
4. –î–æ–±–∞–≤—å—Ç–µ Progress Photo ‚Üí –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Characteristics ‚Üí –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 0 –¥–ª—è –Ω–æ–≤–æ–≥–æ —é–∑–µ—Ä–∞

---

## ‚ùå –ï–°–õ–ò –í–°–ï –ï–©–ï –ù–ï –†–ê–ë–û–¢–ê–ï–¢

**Progress Photos:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SQL –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω –ë–ï–ó –û–®–ò–ë–û–ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ storage bucket —Å–æ–∑–¥–∞–ª—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS policies: `SELECT * FROM pg_policies WHERE tablename = 'progress_photos'`

**Workout Counter:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `[Storage] ‚úÖ User profile synced to Supabase`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É: `SELECT * FROM workout_sessions WHERE user_id = '–≤–∞—à-uuid'`

**Exercise GIFs:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `[ExerciseDB] Searching for: "exercise_name"`
- –ï—Å–ª–∏ fallback —Å—Ä–∞–±–æ—Ç–∞–ª: `[ExerciseDB] Fallback found:`
- –ï—Å–ª–∏ –Ω–µ –Ω–∞—à—ë–ª ‚Üí –¥–æ–±–∞–≤—å—Ç–µ –≤ `_exerciseNameMapping`
